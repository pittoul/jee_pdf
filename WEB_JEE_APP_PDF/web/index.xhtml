<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Utilitaires PDF</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"></link>
    </h:head>
    <h:body class="bg-white">
        <p:growl id="messages" showDetail="true" />
        <script type="text/javascript">
            //<![CDATA[
            function start() {
                PF('statusDialog').show();
            }
            function stop() {
                PF('statusDialog').hide();
            }
            //]]>
        </script>    
        <p:dialog modal="true" widgetVar="statusDialog" header="Status" draggable="false" closable="false" resizable="false">
            <p:graphicImage name="/demo/images/ajaxloadingbar.gif" />
        </p:dialog>
        <div class="container rounded pt-5 pb-5 pl-5 pr-5">
            <p:panel styleClass="container bg-info rounded shadow-sm" >
                <div class="col-12 bg-secondary text-center mt-3 pt-4 pb-4 mb-4 rounded sticky-top">
                    <h:outputText class="my-auto h1 text-light" value="Couteau Suisse PDF" />     
                </div>
                <!--</f:facet>-->

                <!--PARTIE SUPPRIMER PAGES DU PDF-->
                <hr />
                <div class="container bg-white rounded pl-3 pt-3 pb-3 pr-3">
                    <div class="row">
                        <div class="col-12 text-center">
                            <h4>SUPPRIMER DES PAGES D'UN PDF</h4>  
                        </div>
                    </div>

                    <!--PARTIE UPLOAD-->
                    <div class="row mt-3 mb-3 ml-3 mr-3 pt-3 pb-3 rounded">
                        <div class="col-12 text-center">
                            <h:form enctype="multipart/form-data" styleClass="bg-danger pt-3 pb-3 pr-3 pl-3 rounded" >  
                                <p:fileUpload value="#{fileUploadView.file}" mode="simple" skinSimple="true" label="Choisir un pdf" />
                                <h:outputText value=" -----> " />        
                                <p:commandButton value="Envoyer un document" ajax="false" action="#{fileUploadView.upload}" disabled="false" />
                                <p:inputText  disabled="true" value="#{fileUploadView.nomCourt}"/>
                            </h:form>
                        </div>
                    </div>





                    <div class="row bg-success mt-3 mb-3 ml-3 mr-3 pt-3 pb-3 rounded">
                        <div class="col text-center">
                            <form action="ServletSupprPages" method="post">
                                <input name="nomFichierOriginal" hidden="" type="text" value="#{fileUploadView.nomFichier}"></input>
                                <input name="nomCourtFichierOriginal" hidden="" type="text" value="#{fileUploadView.nomCourt}"></input>
                                <input name="extensionFichierOriginal" hidden="" type="text" value="#{fileUploadView.extensionFichier}"></input>
                                <p>Page de départ : <input id="pageDepartSuppr" name="pageDepart" value="#{inputNumberView.pageDepartSuppression}" placeholder="Page de départ" /></p>
                                <p>Nombre de pages à supprimer<input id="nbrePagesSuppr" name="nbrePages" value="#{inputNumberView.nbrePagesSuppression}" placeholder="Nombre de pages à supprimer"/></p>  
                                <p><button type="submit" id="val" class="btn btn-secondary">SUPPRIMER DES PAGES</button></p>
                            </form>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col text-center pt-4 pb-3">
                            <form action="ServletDownloadFile" method="GET">
                                <p><button type="submit" id="val" class="btn btn-secondary">Télécharger le fichier modifié</button></p>
                            </form>
                        </div>
                    </div>
                </div>
                <!--        </div>
                        </p:panel>-->
                <!--PARTIE TRANSFORMER IMG EN PDF-->
                <hr />
                <div class="container bg-white rounded pl-3 pt-3 pb-3 pr-3">
                    <div class="row">
                        <div class="col-12 text-center mb-1">
                            <h4>Transformer une image en PDF</h4>
                        </div>
                    </div>
                    <div class="row d-flex justify-content-center">
                        <div class="col text-center pt-4 pb-3">
                            <form action="ServletImgEnPdf" method="post">
                                <button type="submit" id="val" class="btn btn-secondary mr-1">Image en PDF</button>
                            </form>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col text-center pt-4 pb-3">
                            <form action="ServletDownloadFile" method="GET">
                                <p><button type="submit" id="val" class="btn btn-secondary">Télécharger le fichier modifié</button></p>
                            </form>
                        </div>
                    </div>
                </div>
                <hr />
                <!--PARTIE FUSIONNER 2 PDF-->
                <div class="container bg-white rounded pl-3 pt-3 pb-3 pr-3">
                    <div class="row">
                        <div class="col-12 text-center mb-1">
                            <h4>Fusionner deux PDF</h4>  
                        </div>
                    </div>
                    <p><h:outputText value="Premier PDF" /><br />  
                        <h:form enctype="multipart/form-data" >  
                            <p:fileUpload value="#{fileUploadView.file}" mode="simple" skinSimple="true" label="Choisir un pdf" />
                            <h:outputText value=" -----> " />        
                            <p:commandButton value="Envoyer un document" ajax="false" action="#{fileUploadView.upload}" disabled="false" />
                            <p:inputText  disabled="true" value="#{fileUploadView.nomCourt}"/>
                            <p:inputText  disabled="true" value="#{fileUploadView.extensionFichier}"/>
                        </h:form></p>
                    <p><h:outputText value="Second PDF" />
                        <h:form enctype="multipart/form-data" >  
                            <p:fileUpload value="#{fileUploadView.file}" mode="simple" skinSimple="true" label="Choisir un pdf" />
                            <h:outputText value=" -----> " />        
                            <p:commandButton value="Envoyer un document" ajax="false" action="#{fileUploadView.upload}" disabled="false" />
                            <p:inputText  disabled="true" value="#{fileUploadView.nomCourt}"/>
                            <p:inputText  disabled="true" value="#{fileUploadView.extensionFichier}"/>
                        </h:form></p>
                    <div class="row d-flex justify-content-center">
                        <div class="col text-center pt-4 pb-3">
                            <form action="ServletFusionPdf" method="post">
                                <button type="submit" id="val" class="btn btn-secondary">Fusionner les PDF</button>
                            </form>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col text-center pt-4 pb-3">
                            <form action="ServletDownloadFile" method="GET">
                                <p><button type="submit" id="val" class="btn btn-secondary">Télécharger le fichier modifié</button></p>
                            </form>
                        </div>
                    </div>
                </div>
                <hr />
                <!--PARTIE TRANSFORMER IMG EN PDF-->
                <div class="container bg-white rounded pl-3 pt-3 pb-3 pr-3">
                    <div class="row">
                        <div class="col-12 text-center mb-1">
                            <h4>Transformer un PDF en image</h4>
                        </div>
                    </div>
                    <div class="row d-flex justify-content-center">
                        <div class="col text-center pt-4 pb-3">
                            <form action="ServletPdfEnImage" method="post">
                                <button type="submit" id="val" class="btn btn-secondary mr-1">PDF en image</button>
                            </form>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col text-center pt-4 pb-3">
                            <form action="ServletDownloadFile" method="GET">
                                <p><button type="submit" id="val" class="btn btn-secondary">Télécharger le fichier modifié</button></p>
                            </form>
                        </div>
                    </div>
                </div>
                <!--PARTIE EXTRAIRE PAGES PDF-->
                <hr />
                <div class="container bg-white rounded pl-3 pt-3 pb-3 pr-3">
                    <div class="row">
                        <div class="col-12 text-center mb-1">
                            <h4>Extraire des page d'un PDF</h4>
                        </div>
                    </div>
                    <form action="ServletExtrairesPagesPdf" method="post">
                        <input name="nomFichierOriginal" hidden="" type="text" value="#{fileUploadView.nomFichier}"></input>
                        <input name="nomCourtFichierOriginal" hidden="" type="text" value="#{fileUploadView.nomCourt}"></input>
                        <input name="extensionFichierOriginal" hidden="" type="text" value="#{fileUploadView.extensionFichier}"></input>
                        <p>Page de départ : <input id="pageDepartSuppr" name="pageDepart" value="#{inputNumberView.pageDepartSuppression}" placeholder="Page de départ" /></p>
                        <p>Nombre de pages à extraire : <input id="nbrePagesExtraire" name="nbrePagesExtraire" value="#{inputNumberView.nbrePagesExtraction}" placeholder="Nombre de pages à supprimer"/></p>
                    </form>
                    <div class="row d-flex justify-content-center">
                        <div class="col text-center pt-4 pb-3">
                            <button type="submit" id="val" class="btn btn-secondary mr-1">Extraire des pages</button>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col text-center pt-4 pb-3">
                            <form action="ServletDownloadFile" method="GET">
                                <p><button type="submit" id="val" class="btn btn-secondary">Télécharger le fichier modifié</button></p>
                            </form>
                        </div>
                    </div>
                </div>
                <hr />
                <!--PARTIE SIGNER PDF-->
                <div class="container bg-white rounded pl-3 pt-3 pb-3 pr-3">
                    <div class="row">
                        <div class="col-12 text-center mb-1">
                            <h4>Signer un PDF</h4>
                        </div>
                    </div>
                    <p><h:outputText value="PDF à signer" /><br />  
                        <h:form enctype="multipart/form-data" >  
                            <p:fileUpload value="#{fileUploadView.file}" mode="simple" skinSimple="true" label="Choisir un pdf" />
                            <h:outputText value=" -----> " />        
                            <p:commandButton value="Envoyer un document" ajax="false" action="#{fileUploadView.upload}" disabled="false" />
                            <p:inputText  disabled="true" value="#{fileUploadView.nomCourt}"/>
                            <p:inputText  disabled="true" value="#{fileUploadView.extensionFichier}"/>
                        </h:form></p>
                    <p><h:outputText value="Signature (fichier image)" />
                        <h:form enctype="multipart/form-data" >  
                            <p:fileUpload value="#{fileUploadView.file}" mode="simple" skinSimple="true" label="Choisir un pdf" />
                            <h:outputText value=" -----> " />        
                            <p:commandButton value="Envoyer un document" ajax="false" action="#{fileUploadView.upload}" disabled="false" />
                            <p:inputText  disabled="true" value="#{fileUploadView.nomCourt}"/>
                            <p:inputText  disabled="true" value="#{fileUploadView.extensionFichier}"/>
                        </h:form></p>
                    <div class="row d-flex justify-content-center">
                        <div class="col text-center pt-4 pb-3">
                            <form action="ServletSignerPdf" method="post">
                                <button type="submit" id="val" class="btn btn-secondary mr-1">Signer un PDF</button>
                            </form>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col text-center pt-4 pb-3">
                            <form action="ServletDownloadFile" method="GET">
                                <p><button type="submit" id="val" class="btn btn-secondary">Télécharger le fichier modifié</button></p>
                            </form>
                        </div>
                    </div>
                </div>
                    <hr />
                    <div class="container bg-white rounded mb-3 pl-3 pt-3 pb-3 pr-3">
                        <div class="row">
                            <div class="col-12 text-center">
                                <!--<f:facet name="footer">-->
                                <h3>PDF</h3>
                                <embed src="#{fileUploadView.cheminFichier}/upload.pdf" width="500" height="375" 
                                       type="application/pdf"></embed>
                            </div>

                        </div>
                    </div>
                    
                    <!--</f:facet>-->
                <!--</div>-->
            </p:panel>
        </div>
    </h:body>
</html>

